{"version":"2.0","models":[{"Key":"3","Name":"EnergyBudget","Definition":{"version":"v2","attributes":[],"flows":{"blocks":[{"title":"Action","type":"actionstart","id":"40fe7e19-b46c-40e7-a08a-9339de42e42e","position":{"left":67,"top":100},"surface":"UpdateBudget","connections":{"inputs":[],"outputs":[{"source":"40fe7e19-b46c-40e7-a08a-9339de42e42e:output:budget","target":"d97a6545-564f-4126-f5d3-4f49aada8492:input:input"},{"source":"40fe7e19-b46c-40e7-a08a-9339de42e42e:output:location","target":"1542c611-629c-4474-dd1c-06bcc5ff2b91:input:location"},{"source":"40fe7e19-b46c-40e7-a08a-9339de42e42e:output:budget","target":"1542c611-629c-4474-dd1c-06bcc5ff2b91:input:values"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""},{"id":"budget","type":"","label":"budget","description":"","documentation":""}],"actionName":"UpdateBudget","initiate":false,"published":false,"debug":true,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Action","type":"actionstart","id":"751b5952-8fce-4ab3-e6d0-48290251c5bb","position":{"left":60,"top":186},"surface":"GetBudget","connections":{"inputs":[],"outputs":[{"source":"751b5952-8fce-4ab3-e6d0-48290251c5bb:output:location","target":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075:input:location"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""}],"actionName":"GetBudget","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Action","type":"actionstart","id":"a6f19482-2ba1-41bf-9fab-9fe4ec88a3cb","position":{"left":60,"top":230},"surface":"AddValue","connections":{"inputs":[],"outputs":[{"source":"a6f19482-2ba1-41bf-9fab-9fe4ec88a3cb:output:output","target":"1dbc87b1-3144-4bf6-d70b-4a53e776c1fe:input:trigger"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"year","type":"","label":"year","description":"","documentation":""},{"id":"month","type":"","label":"month","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""},{"id":"value","type":"","label":"value","description":"","documentation":""}],"actionName":"AddValue","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Action","type":"actionstart","id":"1a647709-f57f-4695-82c4-662e2a0d7b91","position":{"left":95,"top":79},"surface":"ConsumptionForLocation","connections":{"inputs":[],"outputs":[{"source":"1a647709-f57f-4695-82c4-662e2a0d7b91:output:location","target":"586b25b3-81e4-491a-d2ca-b22ecadc1e12:input:location"},{"source":"1a647709-f57f-4695-82c4-662e2a0d7b91:output:year","target":"586b25b3-81e4-491a-d2ca-b22ecadc1e12:input:year"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""},{"id":"year","type":"","label":"year","description":"","documentation":""}],"actionName":"ConsumptionForLocation","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Repeat Action","type":"repeataction","id":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1","position":{"left":594,"top":210},"surface":"AddValueBulk","connections":{"inputs":[{"source":"0b1ebff4-ea83-4b5c-f406-7479e1aadfa2:output:values","target":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1:input:list"},{"source":"e5d4b92e-068d-4dac-c81c-8d3c7b3d7255:output:location","target":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1:input:extra"}],"outputs":[{"source":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1:output:action","target":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:input:__actionlink__"}]},"inputValues":[{"id":"list","type":"list","label":"Items","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"extra","type":"","label":"Extra","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"action","type":"actionlink","label":"Action","description":"","documentation":""},{"id":"done","type":"","label":"Done","description":"","documentation":""},{"id":"output","type":"","label":"Output","description":"","documentation":""}],"sequential":true},{"title":"ES6Javascript","type":"es6javascript","id":"0b1ebff4-ea83-4b5c-f406-7479e1aadfa2","position":{"left":349,"top":88},"surface":"AddValueBulk","connections":{"inputs":[{"source":"e5d4b92e-068d-4dac-c81c-8d3c7b3d7255:output:values","target":"0b1ebff4-ea83-4b5c-f406-7479e1aadfa2:input:values"}],"outputs":[{"source":"0b1ebff4-ea83-4b5c-f406-7479e1aadfa2:output:values","target":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1:input:list"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"values","type":"","label":"values","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"values","type":"","label":"values","description":"","documentation":""}],"description":"","code":"let values = runtime.inputs().values;\nif (!values) {\n    throw 'Provide an array of year/month/day values';\n}\nif (!(values instanceof Array)) {\n    throw 'values should be an array';\n}\nruntime.done({values});","timeoutMilliseconds":5000},{"title":"Output","type":"actionoutput","id":"9d7e7ef6-3d09-4e55-f886-0bf106ffe03f","position":{"left":888,"top":101},"surface":"GetLocations","connections":{"inputs":[{"source":"50344533-2b10-4f3a-be0e-d4bb96093bb1:output:output","target":"9d7e7ef6-3d09-4e55-f886-0bf106ffe03f:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"Output","type":"actionoutput","id":"0faa4e98-2be7-4e85-977b-0b7086a09afa","position":{"left":622,"top":165},"surface":"GetBudget","connections":{"inputs":[{"source":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075:output:values","target":"0faa4e98-2be7-4e85-977b-0b7086a09afa:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"values"},{"title":"Find one document","type":"modelcollections:findone","id":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075","position":{"left":296,"top":201},"surface":"GetBudget","connections":{"inputs":[{"source":"751b5952-8fce-4ab3-e6d0-48290251c5bb:output:location","target":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075:input:location"}],"outputs":[{"source":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075:output:values","target":"0faa4e98-2be7-4e85-977b-0b7086a09afa:input:input"},{"source":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075:output:values","target":"001227d8-6f6b-4de4-93f0-85e02ab0eafa:input:trigger"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"location","type":"","label":"location","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""},{"id":"values","type":"","label":"values","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"Entire result","documentation":""}],"CollectionName":"c0ecc1d2-c1ef-4db8-f5c6-f260e438b66a","configuration":"[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"location\",\"Operator\":\"eq\",\"Value\":\"location\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":false,"ReceiveIndividualFields":true,"TakeFilterFromPin":false,"timeout":5000},{"title":"Output","type":"actionoutput","id":"001227d8-6f6b-4de4-93f0-85e02ab0eafa","position":{"left":676,"top":309},"surface":"GetBudget","connections":{"inputs":[{"source":"36dcec2a-8d9a-47bd-bb9f-74f1f35fb075:output:values","target":"001227d8-6f6b-4de4-93f0-85e02ab0eafa:input:trigger"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"#{input.location}","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":"location"},{"title":"Find all documents","type":"modelcollections:findall","id":"586b25b3-81e4-491a-d2ca-b22ecadc1e12","position":{"left":397,"top":84},"surface":"ConsumptionForLocation","connections":{"inputs":[{"source":"1a647709-f57f-4695-82c4-662e2a0d7b91:output:location","target":"586b25b3-81e4-491a-d2ca-b22ecadc1e12:input:location"},{"source":"1a647709-f57f-4695-82c4-662e2a0d7b91:output:year","target":"586b25b3-81e4-491a-d2ca-b22ecadc1e12:input:year"}],"outputs":[{"source":"586b25b3-81e4-491a-d2ca-b22ecadc1e12:output:output","target":"a94b0a23-df86-4bf4-c38f-78de837894c8:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"location","type":"","label":"location","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"year","type":"","label":"year","value":"","description":"","documentation":"","transformation":"text","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"","documentation":""}],"CollectionName":"990e1f47-05ec-4225-e2c1-4037cdb70bac","configuration":"[{\"IsEither\":false,\"Conditions\":[{\"Attribute\":\"location\",\"Operator\":\"eq\",\"Value\":\"location\",\"IsPin\":true},{\"Attribute\":\"year\",\"Operator\":\"eq\",\"Value\":\"year\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Output","type":"actionoutput","id":"6513a99d-a45f-477d-d477-06fcadf09229","position":{"left":712,"top":100},"surface":"ConsumptionForLocationMonth","connections":{"inputs":[{"source":"d31e4abc-24dc-41c8-f50e-b108e468e26b:output:output","target":"6513a99d-a45f-477d-d477-06fcadf09229:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"Action","type":"actionstart","id":"5a471ef8-e835-49b9-beb0-72f42c25c45a","position":{"left":95,"top":79},"surface":"ConsumptionForLocationMonth","connections":{"inputs":[],"outputs":[{"source":"5a471ef8-e835-49b9-beb0-72f42c25c45a:output:location","target":"d31e4abc-24dc-41c8-f50e-b108e468e26b:input:location"},{"source":"5a471ef8-e835-49b9-beb0-72f42c25c45a:output:year","target":"d31e4abc-24dc-41c8-f50e-b108e468e26b:input:year"},{"source":"5a471ef8-e835-49b9-beb0-72f42c25c45a:output:month","target":"d31e4abc-24dc-41c8-f50e-b108e468e26b:input:month"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""},{"id":"year","type":"","label":"year","description":"","documentation":""},{"id":"month","type":"","label":"month","description":"","documentation":""}],"actionName":"ConsumptionForLocationMonth","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"ES6Javascript","type":"es6javascript","id":"d97a6545-564f-4126-f5d3-4f49aada8492","position":{"left":379,"top":262},"surface":"UpdateBudget","connections":{"inputs":[{"source":"40fe7e19-b46c-40e7-a08a-9339de42e42e:output:budget","target":"d97a6545-564f-4126-f5d3-4f49aada8492:input:input"}],"outputs":[{"source":"d97a6545-564f-4126-f5d3-4f49aada8492:output:ok","target":"1542c611-629c-4474-dd1c-06bcc5ff2b91:input:trigger"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"input","type":"","label":"input","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"ok","type":"","label":"ok","description":"","documentation":""}],"description":"Validate","code":"let x = runtime.inputs().input;\nif (!(x instanceof Array)) throw 'Budget values must be an array of 12 numbers. One for each month';\nif (x.length != 12) throw 'There must be 12 values in the budget array. One for each month';\nruntime.done({ok:true});","timeoutMilliseconds":5000},{"title":"Action","type":"actionstart","id":"e5d4b92e-068d-4dac-c81c-8d3c7b3d7255","position":{"left":43,"top":180},"surface":"AddValueBulk","connections":{"inputs":[],"outputs":[{"source":"e5d4b92e-068d-4dac-c81c-8d3c7b3d7255:output:values","target":"0b1ebff4-ea83-4b5c-f406-7479e1aadfa2:input:values"},{"source":"e5d4b92e-068d-4dac-c81c-8d3c7b3d7255:output:location","target":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1:input:extra"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"values","type":"","label":"values","description":"","documentation":""},{"id":"location","type":"","label":"location","description":"","documentation":""}],"actionName":"AddValueBulk","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Action","type":"actionstart","id":"567c595d-67bf-4978-b13a-68ca6ddf5fca","position":{"left":60,"top":60},"surface":"GetLocations","connections":{"inputs":[],"outputs":[{"source":"567c595d-67bf-4978-b13a-68ca6ddf5fca:output:output","target":"50344533-2b10-4f3a-be0e-d4bb96093bb1:input:trigger"}]},"inputValues":[],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""}],"actionName":"GetLocations","initiate":false,"published":false,"debug":false,"roles":[],"static":true,"canOverrideCredentials":false},{"title":"Action","type":"linkedactionstart","id":"7fbf6ff8-1696-4787-c504-0057bed6f1c1","position":{"left":892,"top":170},"surface":"AddValueBulk","connections":{"inputs":[{"source":"c8837ab4-aa1a-4847-e5c1-a05b4841b4c1:output:action","target":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:input:__actionlink__"}],"outputs":[{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:year","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:year"},{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:month","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:month"},{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:value","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:value"},{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:Extra","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:location"}]},"inputValues":[{"id":"__actionlink__","type":"actionlink","label":"","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"output","type":"","label":"All Output","description":"","documentation":""},{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"year","type":"","label":"year","description":"","documentation":""},{"id":"month","type":"","label":"month","description":"","documentation":""},{"id":"value","type":"","label":"value","description":"","documentation":""},{"id":"Extra","type":"","label":"Extra","description":"","documentation":""}],"actionName":"","initiate":false,"published":false,"debug":true,"roles":[],"static":true},{"title":"Find all documents","type":"modelcollections:findall","id":"d31e4abc-24dc-41c8-f50e-b108e468e26b","position":{"left":397,"top":84},"surface":"ConsumptionForLocationMonth","connections":{"inputs":[{"source":"5a471ef8-e835-49b9-beb0-72f42c25c45a:output:location","target":"d31e4abc-24dc-41c8-f50e-b108e468e26b:input:location"},{"source":"5a471ef8-e835-49b9-beb0-72f42c25c45a:output:year","target":"d31e4abc-24dc-41c8-f50e-b108e468e26b:input:year"},{"source":"5a471ef8-e835-49b9-beb0-72f42c25c45a:output:month","target":"d31e4abc-24dc-41c8-f50e-b108e468e26b:input:month"}],"outputs":[{"source":"d31e4abc-24dc-41c8-f50e-b108e468e26b:output:output","target":"6513a99d-a45f-477d-d477-06fcadf09229:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"location","type":"","label":"location","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"year","type":"","label":"year","value":"","description":"","documentation":"","transformation":"int","disablelog":""},{"id":"month","type":"","label":"month","value":"","description":"","documentation":"","transformation":"int","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"","documentation":""}],"CollectionName":"990e1f47-05ec-4225-e2c1-4037cdb70bac","configuration":"[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"location\",\"Operator\":\"eq\",\"Value\":\"location\",\"IsPin\":true},{\"Attribute\":\"year\",\"Operator\":\"eq\",\"Value\":\"year\",\"IsPin\":true},{\"Attribute\":\"month\",\"Operator\":\"eq\",\"Value\":\"month\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Replace one document","type":"modelcollections:replaceone","id":"7d220690-4636-4f1f-ef96-dd6bb2b13e42","position":{"left":1158,"top":171},"surface":"AddValueBulk","connections":{"inputs":[{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:year","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:year"},{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:month","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:month"},{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:value","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:value"},{"source":"7fbf6ff8-1696-4787-c504-0057bed6f1c1:output:Extra","target":"7d220690-4636-4f1f-ef96-dd6bb2b13e42:input:location"}],"outputs":[]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"year","type":"","label":"year","value":"","description":"","documentation":"","transformation":"text","disablelog":""},{"id":"month","type":"","label":"month","value":"","description":"","documentation":"","transformation":"text","disablelog":""},{"id":"value","type":"","label":"value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"location","type":"","label":"location","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"__data__","type":"text","label":"Data","value":"","description":"Data to be inserted","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"","documentation":""}],"CollectionName":"990e1f47-05ec-4225-e2c1-4037cdb70bac","configuration":"[{\"IsEither\":false,\"Conditions\":[{\"Attribute\":\"location\",\"Operator\":\"eq\",\"Value\":\"location\",\"IsPin\":true},{\"Attribute\":\"year\",\"Operator\":\"eq\",\"Value\":\"year\",\"IsPin\":true},{\"Attribute\":\"month\",\"Operator\":\"eq\",\"Value\":\"month\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":true,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Output","type":"actionoutput","id":"a94b0a23-df86-4bf4-c38f-78de837894c8","position":{"left":712,"top":100},"surface":"ConsumptionForLocation","connections":{"inputs":[{"source":"586b25b3-81e4-491a-d2ca-b22ecadc1e12:output:output","target":"a94b0a23-df86-4bf4-c38f-78de837894c8:input:input"}],"outputs":[]},"inputValues":[{"id":"input","type":"","label":"Value","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[],"fieldName":""},{"title":"Find all documents","type":"modelcollections:findall","id":"50344533-2b10-4f3a-be0e-d4bb96093bb1","position":{"left":367,"top":234},"surface":"GetLocations","connections":{"inputs":[{"source":"567c595d-67bf-4978-b13a-68ca6ddf5fca:output:output","target":"50344533-2b10-4f3a-be0e-d4bb96093bb1:input:trigger"}],"outputs":[{"source":"50344533-2b10-4f3a-be0e-d4bb96093bb1:output:output","target":"9d7e7ef6-3d09-4e55-f886-0bf106ffe03f:input:input"}]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"","documentation":""}],"CollectionName":"c0ecc1d2-c1ef-4db8-f5c6-f260e438b66a","configuration":"[]","UpdateAsAttributes":false,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Replace one document","type":"modelcollections:replaceone","id":"1542c611-629c-4474-dd1c-06bcc5ff2b91","position":{"left":695,"top":102},"surface":"UpdateBudget","connections":{"inputs":[{"source":"40fe7e19-b46c-40e7-a08a-9339de42e42e:output:location","target":"1542c611-629c-4474-dd1c-06bcc5ff2b91:input:location"},{"source":"d97a6545-564f-4126-f5d3-4f49aada8492:output:ok","target":"1542c611-629c-4474-dd1c-06bcc5ff2b91:input:trigger"},{"source":"40fe7e19-b46c-40e7-a08a-9339de42e42e:output:budget","target":"1542c611-629c-4474-dd1c-06bcc5ff2b91:input:values"}],"outputs":[]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"location","type":"","label":"location","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"values","type":"","label":"values","value":"","description":"","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"","documentation":""}],"CollectionName":"c0ecc1d2-c1ef-4db8-f5c6-f260e438b66a","configuration":"[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"location\",\"Operator\":\"eq\",\"Value\":\"location\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":true,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000},{"title":"Replace one document","type":"modelcollections:replaceone","id":"1dbc87b1-3144-4bf6-d70b-4a53e776c1fe","position":{"left":371,"top":291},"surface":"AddValue","connections":{"inputs":[{"source":"a6f19482-2ba1-41bf-9fab-9fe4ec88a3cb:output:output","target":"1dbc87b1-3144-4bf6-d70b-4a53e776c1fe:input:trigger"}],"outputs":[]},"inputValues":[{"id":"trigger","type":"","label":"Trigger","value":"","description":"","documentation":"","transformation":"","disablelog":""},{"id":"year","type":"","label":"year","value":"#{input.year}","description":"","documentation":"","transformation":"text","disablelog":""},{"id":"month","type":"","label":"month","value":"#{input.month}","description":"","documentation":"","transformation":"text","disablelog":""},{"id":"value","type":"","label":"value","value":"#{input.value}","description":"","documentation":"","transformation":"","disablelog":""},{"id":"location","type":"","label":"location","value":"#{input.location}","description":"","documentation":"","transformation":"","disablelog":""},{"id":"__data__","type":"text","label":"Data","value":"","description":"Data to be inserted","documentation":"","transformation":"","disablelog":""}],"outputValues":[{"id":"__error__","type":"error","label":"Error","description":"","documentation":""},{"id":"output","type":"","label":"All Output","description":"","documentation":""}],"CollectionName":"990e1f47-05ec-4225-e2c1-4037cdb70bac","configuration":"[{\"IsEither\":false,\"Conditions\":[{\"Attribute\":\"year\",\"Operator\":\"eq\",\"Value\":\"year\",\"IsPin\":true},{\"Attribute\":\"month\",\"Operator\":\"eq\",\"Value\":\"month\",\"IsPin\":true},{\"Attribute\":\"location\",\"Operator\":\"eq\",\"Value\":\"location\",\"IsPin\":true}],\"Groups\":[]}]","UpdateAsAttributes":true,"ReceiveIndividualFields":false,"TakeFilterFromPin":false,"timeout":5000}],"position":{"top":0,"left":0}},"sources":[{"name":"UpdateBudget","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":["location","budget"]},{"name":"GetBudget","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["values","location"],"parameters":["location"]},{"name":"AddValue","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":["year","month","location","value"]},{"name":"ConsumptionForLocation","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["location","year"]},{"name":"ConsumptionForLocationMonth","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["location","year","month"]},{"name":"AddValueBulk","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":["values","location"]},{"name":"GetLocations","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":[]}],"actions":[{"name":"UpdateBudget","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":["location","budget"]},{"name":"GetBudget","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":["values","location"],"parameters":["location"]},{"name":"AddValue","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":["year","month","location","value"]},{"name":"ConsumptionForLocation","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["location","year"]},{"name":"ConsumptionForLocationMonth","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":["location","year","month"]},{"name":"AddValueBulk","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[],"parameters":["values","location"]},{"name":"GetLocations","published":false,"static":true,"initiate":false,"canOverrideCredentials":false,"outputs":[""],"parameters":[]}],"uioptions":{}},"UIDefinition":null,"MetadataDictionary":"{\"parameters\":[{\"id\":\"energymodel\",\"label\":\"Energy Provider\",\"type\":\"model\",\"subtype\":\"energy-provider\"},{\"id\":\"locationmodel\",\"label\":\"Location Provider\",\"type\":\"model\",\"subtype\":\"locations-provider\"}],\"title\":\"Energy Budget\",\"description\":\"This model provides visualizations around energy savings\",\"tags\":[\"energy\"],\"capabilities\":[\"energy-budget-provider\"]}","ApiRoutes":[{"Key":"168","MapKey":"3","Route":"budget/{location}","Method":"GET","BodyFormat":"JSON","IsActive":"0","Action":"GetBudget","NoAuth":"0"},{"Key":"169","MapKey":"3","Route":"budget/{location}","Method":"POST","BodyFormat":"JSON","IsActive":"0","Action":"UpdateBudget","NoAuth":"0"},{"Key":"170","MapKey":"3","Route":"locations","Method":"GET","BodyFormat":"JSON","IsActive":"0","Action":"GetLocations","NoAuth":"0"},{"Key":"171","MapKey":"3","Route":"consumption/{location}/{year}","Method":"GET","BodyFormat":"JSON","IsActive":"0","Action":"ConsumptionForLocation","NoAuth":"0"},{"Key":"172","MapKey":"3","Route":"consumption/{location}/{year}/{month}","Method":"POST","BodyFormat":"JSON","IsActive":"0","Action":"AddValue","NoAuth":"0"},{"Key":"173","MapKey":"3","Route":"consumption/{location}/{year}/{month}","Method":"GET","BodyFormat":"JSON","IsActive":"0","Action":"ConsumptionForLocationMonth","NoAuth":"0"},{"Key":"174","MapKey":"3","Route":"consumption/{location}","Method":"POST","BodyFormat":"JSON","IsActive":"0","Action":"AddValueBulk","NoAuth":"0"}],"JSModules":[],"ModelCollections":[{"Key":"76","MapKey":"3","GUID":"990e1f47-05ec-4225-e2c1-4037cdb70bac","Attributes":"[{\"name\":\"year\"},{\"name\":\"month\"},{\"name\":\"value\"},{\"name\":\"location\"}]","Name":"consumption"},{"Key":"77","MapKey":"3","GUID":"c0ecc1d2-c1ef-4db8-f5c6-f260e438b66a","Attributes":"[{\"name\":\"location\"},{\"name\":\"values\"}]","Name":"budget"}]}]}